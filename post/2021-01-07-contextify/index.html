<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>contextify - [ projects ]</title>
  <meta name="description" content="ML-powered Playlist Generator">
  <meta name="author" content="Andre Chen"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "[ projects ]",
    
    "url": "https:\/\/andrec279.github.io"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/andrec279.github.io"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/andrec279.github.io",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/andrec279.github.io\/post\/2021-01-07-contextify\/",
          "name": "Contextify"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Andre Chen"
  },
  "headline": "contextify",
  "description" : "Project using logistic regression to sort a Spotify user\u0026rsquo;s song library into desired playlists.\nPlotly-dash web application coming soon!\nSpotify API Documentation: https:\/\/developer.spotify.com\/documentation\/web-api\/\nDeezer API Documentation: https:\/\/developers.deezer.com\/api\n   Playlist Feature Averages\n      Playlist Feature Distributions\n      LogReg Performance Evaluation\n   ",
  "inLanguage" : "en",
  "wordCount":  509 ,
  "datePublished" : "2021-01-07T00:00:00",
  "dateModified" : "2021-01-07T00:00:00",
  "image" : "https:\/\/andrec279.github.io\/img\/homelogo.png",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "https:\/\/andrec279.github.io\/post\/2021-01-07-contextify\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/andrec279.github.io",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/andrec279.github.io\/img\/homelogo.png",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="contextify" />
<meta property="og:description" content="ML-powered Playlist Generator">
<meta property="og:image" content="https://andrec279.github.io/img/homelogo.png" />
<meta property="og:url" content="https://andrec279.github.io/post/2021-01-07-contextify/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="[ projects ]" />

  <meta name="twitter:title" content="contextify" />
  <meta name="twitter:description" content="ML-powered Playlist Generator">
  <meta name="twitter:image" content="https://andrec279.github.io/img/homelogo.png" />
  <meta name="twitter:card" content="summary" />
  <link href='https://andrec279.github.io/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.80.0" />
  <link rel="alternate" href="https://andrec279.github.io/index.xml" type="application/rss+xml" title="[ projects ]"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://andrec279.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://andrec279.github.io/css/highlight.min.css" /><link rel="stylesheet" href="https://andrec279.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">




  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://andrec279.github.io">[ projects ]</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Home" href="https://andrec279.github.io/">Home</a>
            </li>
          
        
          
            <li>
              <a title="About" href="https://andrec279.github.io/page/about/">About</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="[ projects ]" href="https://andrec279.github.io">
            <img class="avatar-img" src="https://andrec279.github.io/img/homelogo.png" alt="[ projects ]" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>contextify</h1>
              
              
              
                
                  <h2 class="post-subheading">ML-powered Playlist Generator</h2>
                
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on January 7, 2021
  
  
  
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>Project using logistic regression to sort a Spotify user&rsquo;s song library into desired playlists.<br>
Plotly-dash web application coming soon!</p>
<p><strong>Spotify API Documentation:</strong> <a href="https://developer.spotify.com/documentation/web-api/">https://developer.spotify.com/documentation/web-api/</a><br>
<strong>Deezer API Documentation:</strong> <a href="https://developers.deezer.com/api">https://developers.deezer.com/api</a></p>



<div class="gallery caption-position-bottom caption-effect-fade hover-effect-zoom hover-transition" itemscope itemtype="http://schema.org/ImageGallery">
	  
  
<link rel="stylesheet" href="https://andrec279.github.io/css/hugo-easy-gallery.css" />
<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img" style="background-image: url('https://andrec279.github.io/img/plfeatureaverages-thumb.jpg');">
      <img itemprop="thumbnail" src="https://andrec279.github.io/img/plfeatureaverages-thumb.jpg" alt="Playlist Feature Averages"/>
    </div>
    <a href="https://andrec279.github.io/img/plfeatureaverages.jpg" itemprop="contentUrl"></a>
      <figcaption>
          <p>Playlist Feature Averages</p>
      </figcaption>
  </figure>
</div>

  

<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img" style="background-image: url('https://andrec279.github.io/img/pcagraphs-thumb.png');">
      <img itemprop="thumbnail" src="https://andrec279.github.io/img/pcagraphs-thumb.png" alt="Analysis of Class Distribution using PCA"/>
    </div>
    <a href="https://andrec279.github.io/img/pcagraphs.png" itemprop="contentUrl"></a>
      <figcaption>
          <p>Analysis of Class Distribution using PCA</p>
      </figcaption>
  </figure>
</div>

  

<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img" style="background-image: url('https://andrec279.github.io/img/LogRegPlot-thumb.jpg');">
      <img itemprop="thumbnail" src="https://andrec279.github.io/img/LogRegPlot-thumb.jpg" alt="LogReg Performance Evaluation"/>
    </div>
    <a href="https://andrec279.github.io/img/LogRegPlot.jpg" itemprop="contentUrl"></a>
      <figcaption>
          <p>LogReg Performance Evaluation</p>
      </figcaption>
  </figure>
</div>


</div>

<h2 id="motivation">Motivation</h2>
<p>As a frequent Spotify user, I have a problem. Any time I come across a new song I like, I save it to my Library, which ends up being a mess of thousands of uncategorized songs.
Because I never have time to organize them into playlists, I opt for other playlists available on Spotify when I&rsquo;m listening to music for specific activities, like studying or working out.
So, I am building contextify, which uses a logistic regression model to &ldquo;learn&rdquo; how songs typically get
assigned to playlists by other Spotify users. I&rsquo;ll then apply this model to my own library to automatically sort my music into playlists, allowing me to listen
to more of my own music.</p>
<h2 id="how-it-works">How it Works</h2>
<p>For this project, I&rsquo;ve created an automated, end-to-end pipeline to extract training / testing data from music database APIs, analyze and transform the data, then feed it into a logistic
regression model so it can be used on my own song data. These steps are outlined broadly below. All application code is also listed on my <a href="https://github.com/andrec279/contextify">contextify GitHub repo</a> page.</p>
<p><strong>1 - Extract, Transform, Load</strong></p>
<ol>
<li>Input desired playlist names for sorting (ex: workout, hip-hop, edm, etc.). These will be class labels later on.</li>
<li>For each playlist name, search Spotify&rsquo;s playlist database using playlist names and return all tracks within the playlists returned. Label each track with the query that returned it.</li>
<li>For each track, get track features from Spotify&rsquo;s track feature API, then use the track name to query Deezer&rsquo;s API for the track genre.</li>
<li>Save labeled feature data to data store.</li>
</ol>
<p><strong>2 - Analysis and Visualization</strong></p>
<ol>
<li>Slice the data into different visualizations to understand playlist feature averages and distributions, relative class sizes, class overlap and degrees of feature collinearity.</li>
<li>Present visualizations to the user. One key question to answer is how similar the feature distributions are between playlists, as this is an important predictor of model performance later on.</li>
</ol>
<p><strong>3 - Modeling</strong></p>
<ol>
<li>Binarize categorical features and labels, then fit logistic regression model.</li>
<li>Evaluate out-of-the-box logistic regression performance (precision, recall, f1) on different cutoff values n for P(Yi). In other words, given probability P(Yi) that a track belongs to playlist p,
evaluate LogReg performance if assignment of track to playlist p is made for probabilities above cutoff value n.</li>
<li>Select optimal n. Here, I am more concerned with the True Positive rate than the True Negative Rate (I&rsquo;d rather have a smaller, high quality playlist than a larger playlist
with more incorrect entries). So, I am weighting precision&rsquo;s importance over recall.</li>
<li>Tune LogReg model hyperparameters using GridSearchCV and validate on testing dataset.</li>
<li>Test model on my own Spotify library dataset. Generate predicted classes and evaluate by computing average distance within each class to the centroid within the original training dataset, then comparing to the average distance within the training set.</li>
</ol>
<p><strong>4 - Web Application (TODO)</strong></p>
<ol>
<li>Wrap workflow in Plotly-dash module.</li>
<li>Pass in my Spotify authentication credentials and store my song feature data.</li>
<li>Run trained LogReg model on my song feature data and create new playlists in Spotify via Spotify API.</li>
</ol>

        

        

        
          

          
        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://andrec279.github.io/post/2020-12-01-busybee/" data-toggle="tooltip" data-placement="top" title="busybee">&larr; Previous Post</a>
            </li>
          
          
        </ul>
      


      
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:andrec279@gmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/andrec279" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/andre-chen1" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://www.instagram.com/achen27" title="Instagram">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              Andre Chen
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2021
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://andrec279.github.io">[ projects ]</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.80.0</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://andrec279.github.io/js/main.js"></script>
<script src="https://andrec279.github.io/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://andrec279.github.io/js/load-photoswipe.js"></script>









    
  </body>
</html>

